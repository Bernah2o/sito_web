<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2098TJ87WF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);} 
      gtag('js', new Date());
      gtag('config', 'G-2098TJ87WF');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- T√çTULO OPTIMIZADO (50-60 caracteres) -->
    <title>Limpieza de Tanques de Agua en Valledupar | DH2OCOL</title>

    <!-- META DESCRIPCI√ìN OPTIMIZADA (150-160 caracteres) -->
    <meta
      name="description"
      content="‚≠ê Empresa certificada en limpieza, desinfecci√≥n y mantenimiento de tanques de agua en Valledupar. Productos ecol√≥gicos. Equipo profesional. ‚òéÔ∏è 3157484662"
    />

    <!-- PALABRAS CLAVE (Opcional pero √∫til) -->
    <meta 
      name="keywords" 
      content="limpieza tanques agua Valledupar, desinfecci√≥n tanques elevados, mantenimiento tanques agua potable, DH2OCOL, limpieza tanques C√©sar, reparaci√≥n tanques agua"
    />

    <!-- GEO TAGS PARA SEO LOCAL -->
    <meta name="geo.region" content="CO-CES" />
    <meta name="geo.placename" content="Valledupar" />
    <meta name="geo.position" content="10.4631;-73.2532" />
    <meta name="ICBM" content="10.4631, -73.2532" />

    <!-- OPEN GRAPH PARA REDES SOCIALES -->
    <meta property="og:title" content="Limpieza de Tanques de Agua en Valledupar | DH2OCOL" />
    <meta property="og:description" content="Empresa certificada en limpieza y desinfecci√≥n de tanques de agua. Productos ecol√≥gicos y equipo profesional en Valledupar." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.dh2o.com.co/" />
    <meta property="og:image" content="https://www.dh2o.com.co/static/img/home.png" />
    <meta property="og:locale" content="es_CO" />
    <meta property="og:site_name" content="DH2OCOL" />

    <!-- TWITTER CARD -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Limpieza de Tanques de Agua en Valledupar | DH2OCOL" />
    <meta name="twitter:description" content="Empresa certificada en limpieza y desinfecci√≥n de tanques de agua en Valledupar. ‚òéÔ∏è 3157484662" />
    <meta name="twitter:image" content="https://www.dh2o.com.co/static/img/home.png" />

    <!-- INFORMACI√ìN DE CONTACTO -->
    <meta name="author" content="DH2OCOL" />
    <meta name="contact" content="contacto@dh2o.com.co" />
    <meta name="phone" content="+573157484662" />

    <!-- CANONICAL URL -->
    <link rel="canonical" href="https://www.dh2o.com.co/" />

    <!-- ROBOTS -->
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1" />

    
    <!-- JSON-LD: LocalBusiness -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "DH2OCOL",
      "url": "https://www.dh2o.com.co/",
      "image": "https://www.dh2o.com.co/static/img/logo_4.png",
      "telephone": "+573157484662",
      "priceRange": "$$",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Valledupar",
        "addressRegion": "Cesar",
        "addressCountry": "CO"
      },
      "areaServed": ["Valledupar", "Cesar"],
      "openingHoursSpecification": [{
        "@type": "OpeningHoursSpecification",
        "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday"],
        "opens": "08:00",
        "closes": "18:00"
      }],
      "makesOffer": [{
        "@type": "Offer",
        "itemOffered": {
          "@type": "Service",
          "name": "Limpieza y desinfecci√≥n de tanques de agua"
        }
      }]
    }
    </script>

    <!-- CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/base.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/inicio.css', v='3') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/chatbot.css') }}"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='favicon.ico') }}"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="{{ url_for('static', filename='favicon.ico') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="{{ url_for('static', filename='img/logo_4.png') }}"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="{{ url_for('static', filename='img/logo_4.png') }}"
    />
    <link
      rel="apple-touch-icon"
      href="{{ url_for('static', filename='img/logo_4.png') }}"
    />

    <!-- reCAPTCHA v3 -->
    {% if recaptcha_site_key %}
    <script src="https://www.google.com/recaptcha/api.js?render={{ recaptcha_site_key }}"></script>
    {% endif %}

    <style>
      /* Modal Flotante de Logros */
      .logros-modal {
        display: none;
        position: fixed;
        top: 20px;
        right: 20px;
        z-index: 9999;
        max-width: 400px;
        width: 90%;
        animation: slideInRight 0.5s ease-out;
      }

      .logros-modal.show {
        display: block;
      }

      .logros-modal-content {
        background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        padding: 25px;
        position: relative;
        border: 2px solid #e9ecef;
      }

      .logros-close-btn {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        color: #6c757d;
        cursor: pointer;
        transition: color 0.3s ease;
        /* Aumentar √°rea t√°ctil m√≠nima */
        display: flex;
        align-items: center;
        justify-content: center;
        min-width: 48px;
        min-height: 48px;
        border-radius: 8px;
        touch-action: manipulation;
      }

      .logros-close-btn:hover {
        color: #dc3545;
      }

      .logros-close-btn:focus-visible {
        outline: 3px solid #0b6623;
        outline-offset: 2px;
      }

      .logro-item {
        display: flex;
        align-items: flex-start;
        gap: 15px;
        margin-bottom: 20px;
      }

      .logro-icon {
        flex-shrink: 0;
      }

      .logro-icon img {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        border: 2px solid #fff;
      }

      .logro-content h4 {
        color: #228b22;
        font-weight: bold;
        margin-bottom: 5px;
        font-size: 1.1rem;
      }

      .logro-subtitle {
        color: #6c757d;
        font-size: 0.9rem;
        margin-bottom: 8px;
        font-weight: 500;
      }

      .logro-content p {
        color: #495057;
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 0;
      }

      .logros-divider {
        height: 1px;
        background: linear-gradient(
          to right,
          transparent,
          #dee2e6,
          transparent
        );
        margin: 20px 0;
      }

      .logros-actions {
        display: flex;
        gap: 10px;
        justify-content: flex-start;
        margin-top: 15px;
      }

      .logros-actions-global {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
      }

      .btn-conocer-mas {
        background: #0b6623; /* Hunter green: alto contraste con blanco */
        color: #ffffff;
        border: none;
        padding: 12px 24px; /* ampliar √°rea t√°ctil */
        min-height: 44px;
        min-width: 44px;
        border-radius: 25px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        touch-action: manipulation;
        position: relative;
        z-index: 2;
      }

      .btn-conocer-mas:hover {
        background: #095a1f;
        transform: translateY(-2px);
      }

      .btn-conocer-mas:focus-visible {
        outline: 3px solid #ffffff;
        outline-offset: 2px;
        box-shadow: 0 0 0 3px rgba(11, 102, 35, 0.35);
      }

      .btn-mas-tarde {
        background: transparent;
        color: #6c757d;
        border: 1px solid #dee2e6;
        padding: 12px 24px; /* ampliar √°rea t√°ctil */
        min-height: 44px;
        min-width: 44px;
        border-radius: 25px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease;
        touch-action: manipulation;
      }

      .btn-mas-tarde:hover {
        background: #f8f9fa;
        color: #495057;
      }

      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }

      .logros-modal.hide {
        animation: slideOutRight 0.5s ease-in forwards;
      }

      /* Controles del carrusel: asegurar √°rea t√°ctil m√≠nima */
      #logrosCarousel .carousel-control-prev,
      #logrosCarousel .carousel-control-next {
        min-width: 48px;
        min-height: 48px;
        border: none;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: transparent; /* quitar sombra/fondo gris */
        box-shadow: none;
        touch-action: manipulation;
        width: auto; /* evitar √°rea superpuesta grande por defecto */
        padding: 6px;
        z-index: 1; /* por debajo del contenido del slide */
      }

      #logrosCarousel .carousel-control-prev-icon,
      #logrosCarousel .carousel-control-next-icon {
        filter: none; /* iconos originales, visibles sin fondo */
      }

      #logrosCarousel .carousel-control-prev:focus-visible,
      #logrosCarousel .carousel-control-next:focus-visible {
        outline: 3px solid #ffffff;
        outline-offset: 2px;
      }

      /* Indicadores del carrusel: ampliar objetivo t√°ctil sin cambiar el punto visible */
      #logrosCarousel .carousel-indicators {
        gap: 8px;
        margin-bottom: 1rem;
        z-index: 1; /* evitar superponer contenido */
      }

      #logrosCarousel .carousel-indicators button {
        position: relative;
        width: 48px;
        height: 48px;
        background: transparent;
        border: none;
        padding: 0;
        margin: 4px;
        touch-action: manipulation;
      }

      #logrosCarousel .carousel-indicators button::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 12px;
        height: 12px;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        background-color: #ffffff;
        opacity: 0.6;
      }

      #logrosCarousel .carousel-indicators .active::before {
        opacity: 1;
        background-color: #0b6623;
      }

      #logrosCarousel .carousel-indicators button:focus-visible {
        outline: 3px solid #ffffff;
        outline-offset: 2px;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .logros-modal {
          top: 10px;
          right: 10px;
          left: 10px;
          max-width: none;
          width: auto;
        }

        .logros-modal-content {
          padding: 20px;
        }

        .logro-icon img {
          width: 50px;
          height: 50px;
        }

        .logros-actions {
          flex-direction: column;
        }
      }
    </style>
  </head>
  <body>
    {% block header %}
    <!-- Navegaci√≥n Moderna -->
    <nav
      class="navbar navbar-expand-lg fixed-top"
      style="background: rgba(0, 128, 55, 0.95); backdrop-filter: blur(10px)"
      role="navigation" aria-label="Navegaci√≥n principal"
    >
      <div class="container">
        <a
          class="navbar-brand text-white fw-bold fs-3"
          href="{{ url_for('main.index') }}"
        >
          <img
            src="{{ url_for('static', filename='img/logo_4.png') }}"
            alt="DH2OCOL Logo"
            style="width: 40px; height: 40px; object-fit: contain"
            class="me-2"
          />DH2OCOL
        </a>
        <button
          class="navbar-toggler border-0"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link text-white fw-semibold" href="#inicio"
                >Inicio</a
              >
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle text-white fw-semibold {% if request.path.startswith('/nosotros') %}active{% endif %}"
                href="{{ url_for('main.nosotros') }}"
                id="nosotrosDropdownInicio"
                role="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Nosotros
              </a>
              <ul
                class="dropdown-menu"
                aria-labelledby="nosotrosDropdownInicio"
              >
                <li>
                  <a
                    class="dropdown-item {% if request.path.startswith(url_for('main.nosotros_section', slug='quienes-somos')) %}active{% endif %}"
                    href="{{ url_for('main.nosotros_section', slug='quienes-somos') }}"
                    >Qui√©nes Somos</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item {% if request.path.startswith(url_for('main.nosotros_section', slug='mision-vision')) %}active{% endif %}"
                    href="{{ url_for('main.nosotros_section', slug='mision-vision') }}"
                    >Misi√≥n y Visi√≥n</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item {% if request.path.startswith(url_for('main.nosotros_section', slug='nuestra-historia')) %}active{% endif %}"
                    href="{{ url_for('main.nosotros_section', slug='nuestra-historia') }}"
                    >Nuestra Historia</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item {% if request.path.startswith(url_for('main.nosotros_section', slug='compromiso-ambiental-seguridad-calidad')) %}active{% endif %}"
                    href="{{ url_for('main.nosotros_section', slug='compromiso-ambiental-seguridad-calidad') }}"
                    >Compromiso Ambiental - Seguridad y Calidad</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item {% if request.path.startswith(url_for('main.nosotros_section', slug='certificaciones-cumplimientos-cobertura-regional')) %}active{% endif %}"
                    href="{{ url_for('main.nosotros_section', slug='certificaciones-cumplimientos-cobertura-regional') }}"
                    >Certificaciones y Cumplimientos - Cobertura Regional</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item dropdown">
              <a
                class="nav-link dropdown-toggle text-white fw-semibold"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
              >
                Servicios
              </a>
              <ul class="dropdown-menu">
                <li>
                  <a class="dropdown-item" href="#servicios"
                    >Nuestros Servicios</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="{{ url_for('main.blog_mantenimiento') }}"
                    >Mantenimiento de Tanques</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="{{ url_for('main.limpieza_tanques_elevados') }}"
                    >Limpieza de Tanques Elevados</a
                  >
                </li>
                <li>
                  <a
                    class="dropdown-item"
                    href="{{ url_for('main.accesorios_tanques') }}"
                    >Accesorios y Productos</a
                  >
                </li>
              </ul>
            </li>
            <li class="nav-item">
              <a
                class="nav-link text-white fw-semibold"
                href="{{ url_for('main.educagua') }}"
                >EducAgua</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-semibold" href="#testimonios"
                >Testimonios</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link text-white fw-semibold" href="#contacto"
                >Contacto</a
              >
            </li>
            <li class="nav-item">
              <a
                class="nav-link btn btn-info text-white px-3 ms-2"
                href="{{ url_for('main.redirect_app') }}"
                target="_blank"
              >
                <i class="fas fa-mobile-alt me-1"></i>App DH2OCOL
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    {% endblock %}

    <!-- Punto de referencia principal -->
    <main id="main-content" role="main">
    <!-- Hero Section -->
    <section id="inicio" class="hero-section">
      <div class="hero-content">
        <div class="container">
          <div class="row justify-content-center">
            <div class="col-lg-10 text-center">
              <h1 class="fade-in">
                Cuidado Integral de Tanques Elevados: Eficiencia, Calidad y
                Respeto al Medio Ambiente
              </h1>
              <p class="lead fade-in">Cuidamo tu agua, cuidamos tu salud.</p>
              <div class="hero-buttons fade-in">
                <a href="#servicios" class="btn btn-primary btn-lg me-3">
                  <i class="fas fa-cogs me-2"></i>Nuestros Servicios
                </a>
                <a href="#contacto" class="btn btn-outline btn-lg">
                  <i class="fas fa-phone me-2"></i>Contactar Ahora
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Carousel de Im√°genes -->
    <section class="container">
      {% if carousel_images %}
      <div
        id="carouselDH2O"
        class="carousel slide carousel-container"
        data-bs-ride="carousel"
        role="region"
        aria-roledescription="carousel"
        aria-label="Carrusel de im√°genes de servicios DH2OCOL"
      >
        <div class="carousel-indicators">
          {% for image in carousel_images %}
          <button
            type="button"
            data-bs-target="#carouselDH2O"
            data-bs-slide-to="{{ loop.index0 }}"
            {%
            if
            loop.first
            %}class="active" aria-current="true"
            {%
            endif
            %}
            aria-label="Slide {{ loop.index }}"
          ></button>
          {% endfor %}
        </div>
        <div class="carousel-inner">
          {% for image in carousel_images %}
          <div class="carousel-item {% if loop.first %}active{% endif %}" role="group" aria-roledescription="slide" aria-label="Imagen {{ loop.index }} de {{ loop.length }}">
            <img
              src="{{ image.ruta | firebase_url }}"
              class="d-block w-100"
              alt="{{ image.descripcion or 'Imagen del carrusel' }}"
            />
            {% if image.descripcion %}
            <div class="carousel-caption">
              <h3>{{ image.nombre or 'DH2O Colombia' }}</h3>
              <p>{{ image.descripcion }}</p>
            </div>
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <button
          class="carousel-control-prev"
          type="button"
          data-bs-target="#carouselDH2O"
          data-bs-slide="prev"
          aria-label="Anterior"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Anterior</span>
        </button>
        <button
          class="carousel-control-next"
          type="button"
          data-bs-target="#carouselDH2O"
          data-bs-slide="next"
          aria-label="Siguiente"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Siguiente</span>
        </button>
      </div>
      {% endif %}
    </section>

    <!-- Secci√≥n "Qu√© hacemos" -->
    <section id="que-hacemos" class="que-hacemos scroll-reveal">
      <div class="container">
        <h2 class="text-center mb-5">¬øQu√© Hacemos?</h2>
        <div class="section-divider mb-5"></div>
        <div class="content-wrapper">
          <div class="text-content">
            <h3 class="text-primary mb-4">
              Especialistas en Limpieza de Tanques de Agua Potable
            </h3>
            <p class="text-justify">
              Somos expertos en la limpieza, desinfecci√≥n, reparaci√≥n e
              instalaci√≥n de tanques elevados de agua potable. Nuestro
              compromiso es garantizar la calidad y seguridad del agua que llega
              a tu hogar o negocio.
            </p>
            <p class="text-justify">
              Utilizamos tecnolog√≠a de vanguardia y m√©todos sostenibles que
              respetan el medio ambiente, ofreciendo servicios personalizados
              que se adaptan a las necesidades espec√≠ficas de cada cliente.
            </p>
            <div class="row mt-4">
              <div class="col-6">
                <div class="d-flex align-items-center mb-3">
                  <i class="fas fa-check-circle text-success me-3 fs-4"></i>
                  <span>Tecnolog√≠a Avanzada</span>
                </div>
                <div class="d-flex align-items-center mb-3">
                  <i class="fas fa-check-circle text-success me-3 fs-4"></i>
                  <span>M√©todos Sostenibles</span>
                </div>
              </div>
              <div class="col-6">
                <div class="d-flex align-items-center mb-3">
                  <i class="fas fa-check-circle text-success me-3 fs-4"></i>
                  <span>Calidad Garantizada</span>
                </div>
                <div class="d-flex align-items-center mb-3">
                  <i class="fas fa-check-circle text-success me-3 fs-4"></i>
                  <span>Servicio Personalizado</span>
                </div>
              </div>
            </div>
          </div>
          <div class="image-content">
            <img
              src="{{ url_for('static', filename='img/logo_3.png') }}"
              alt="Qu√© hacemos en DH2OCOL"
              class="img-fluid"
            />
          </div>
        </div>
      </div>
    </section>

    <!-- Secci√≥n de Servicios -->
    <section id="servicios" class="servicios-section scroll-reveal">
      <div class="container">
        <h2 class="text-center mb-5">Nuestros Servicios</h2>
        <div class="section-divider mb-5"></div>
        <div class="servicios-grid">
          {% if servicios %} {% for servicio in servicios[:3] %}
          <div class="servicio-card">
            <div class="servicio-image">
              {% if servicio.imagen %} {% set url = servicio.imagen %} {% set
              ext = url.split('.')[-1] | lower %} {% if ext in
              ['mp4','webm','mov','avi'] %}
              <video src="{{ url }}" playsinline muted loop controls></video>
              {% else %}
              <img src="{{ url }}" alt="{{ servicio.nombre }}" />
              {% endif %} {% else %}
              <img
                src="{{ url_for('static', filename='img/placeholder-service.jpg') }}"
                alt="{{ servicio.nombre }}"
              />
              {% endif %}
              <span class="servicio-precio badge bg-primary">
                Desde ${{ "{:,.0f}".format(servicio.precio_base) if
                servicio.precio_base else '0' }}
              </span>
            </div>
            <div class="servicio-content">
              <h3 class="servicio-title">{{ servicio.nombre }}</h3>
              <p class="servicio-descripcion">
                {{ servicio.descripcion[:120] }}{% if
                servicio.descripcion|length > 120 %}...{% endif %}
              </p>
              <div class="servicio-actions">
                <a href="#contacto" class="btn btn-outline-primary btn-sm"
                  >Solicitar cotizaci√≥n</a
                >
              </div>
            </div>
          </div>
          {% endfor %} {% endif %}
        </div>
        {% if servicios %}
        <div class="text-center mt-5">
          <a href="#servicios" class="btn btn-primary btn-lg"
            >Ver todos los servicios</a
          >
        </div>
        {% endif %}
      </div>
    </section>

    <!-- Secci√≥n de Testimonios -->
    <section id="testimonios" class="testimonios-section scroll-reveal">
      <div class="container">
        <h2 class="text-center mb-5">Lo que Dicen Nuestros Clientes</h2>
        <div class="section-divider mb-5"></div>
        <div class="testimonios-grid">
          {% if testimonios %} {% for testimonio in testimonios[:3] %}
          <div class="testimonio-card">
            <div class="testimonio-texto">
              "{{ testimonio.testimonio[:150] }}{% if
              testimonio.testimonio|length > 150 %}...{% endif %}"
            </div>
            <div class="testimonio-cliente">
              {{ testimonio.nombre_cliente }}
            </div>
            {% if testimonio.empresa %}
            <div class="testimonio-empresa">{{ testimonio.empresa }}</div>
            {% endif %}
            <div class="testimonio-rating">
              {% set calificacion = testimonio.calificacion or 5 %} {% for i in
              range(calificacion|int) %}
              <i class="fas fa-star text-warning"></i>
              {% endfor %}
            </div>
          </div>
          {% endfor %} {% else %}
          <!-- No hay testimonios disponibles -->
          <div class="col-12 text-center">
            <div class="py-5">
              <i class="fas fa-comments fa-3x text-muted mb-3"></i>
              <h3 class="text-muted">No hay testimonios disponibles</h3>
              <p class="text-muted">
                Los testimonios se gestionan desde el panel de administraci√≥n
              </p>
            </div>
          </div>
          {% endif %}
        </div>
      </div>
    </section>

    <!-- Secci√≥n de Clientes -->
    <section id="clientes" class="clientes-section scroll-reveal">
      <div class="container">
        <h2 class="text-center mb-4">Nuestros clientes conf√≠an en DH2OCOL</h2>
        <p class="text-center mb-5">
          Atendemos a empresas privadas, conjuntos residenciales e instituciones
          de salud que priorizan la calidad del agua y el cumplimiento
          sanitario.
        </p>
        <div class="section-divider mb-5"></div>

        <!-- Empresas Privadas -->
        <div class="clientes-grupos">
          <div class="cliente-grupo">
            <h3 class="grupo-titulo">
              <span class="grupo-icono">üè¢</span>
              Empresas Privadas
            </h3>
            <div class="clientes-lista">
              <div class="cliente-item">
                <a
                  href="https://www.dislicores.com/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  Dislicores S.A.S
                </a>
              </div>
              <div class="cliente-item">
                <a
                  href="https://www.eticos.com"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  Eticos LTDA
                </a>
              </div>
              <div class="cliente-item">
                <a
                  href="https://www.scotiabankcolpatria.com/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  Scotiabank Colpatria
                </a>
              </div>
            </div>
          </div>

          <!-- Conjuntos Residenciales -->
          <div class="cliente-grupo">
            <h3 class="grupo-titulo">
              <span class="grupo-icono">üè´</span>
              Conjuntos Residenciales
            </h3>
            <div class="clientes-lista">
              <div class="cliente-item">
                <span class="cliente-texto">Conjunto Cerrado Altavista</span>
              </div>
              <div class="cliente-item">
                <span class="cliente-texto">Conjunto Cerrado la Rioja</span>
              </div>
              <div class="cliente-item">
                <span class="cliente-texto">Conjunto Cerrado Argentina</span>
              </div>
            </div>
          </div>

          <!-- Instituciones de Salud -->
          <div class="cliente-grupo">
            <h3 class="grupo-titulo">
              <span class="grupo-icono">ü©∫</span>
              Instituciones de Salud
            </h3>
            <div class="clientes-lista">
              <div class="cliente-item">
                <a
                  href="https://www.instagram.com/sointeips/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  Sointe IPS
                </a>
              </div>
              <div class="cliente-item">
                <a
                  href="https://www.medicsalud.org/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  MedicSalud
                </a>
              </div>
              <div class="cliente-item">
                <a
                  href="https://www.droguerialaeconomia.com/"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="cliente-link"
                >
                  Drogueria Hospitalaria
                </a>
              </div>
            </div>
          </div>
          <!-- Marquee de texto completo ancho -->
          <div class="clientes-marquee-fullwidth">
            <div class="marquee-full-content">
              <span class="marquee-full-item">
                <span class="destacado-icono">üíß</span>
                <span class="marquee-full-text"
                  >Confianza, cumplimiento y resultados: los pilares que
                  respaldan cada servicio de DH2OCOL.</span
                >
              </span>
              <span class="marquee-full-spacer"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
              >
              <span class="marquee-full-item">
                <span class="destacado-icono">üíß</span>
                <span class="marquee-full-text"
                  >M√°s de 100 hogares satisfechos en toda la regi√≥n.</span
                >
              </span>
              <span class="marquee-full-spacer"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
              >
              <span class="marquee-full-item">
                <span class="destacado-icono">üíß</span>
                <span class="marquee-full-text"
                  >Clientes satisfechos que respaldan nuestro compromiso con la
                  calidad y la salud.</span
                >
              </span>
              <span class="marquee-full-spacer"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
              >
              <span class="marquee-full-item">
                <span class="destacado-icono">üíß</span>
                <span class="marquee-full-text"
                  >Presencia en empresas e instituciones de Valledupar y el
                  Cesar.</span
                >
              </span>
              <span class="marquee-full-spacer"
                >&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span
              >
              <span class="marquee-full-item">
                <span class="destacado-icono">üíß</span>
                <span class="marquee-full-text"
                  >Confianza, cumplimiento y resultados: los pilares que
                  respaldan cada servicio de DH2OCOL.</span
                >
              </span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Secci√≥n de Contacto -->
    <section id="contacto" class="contacto-rapido">
      <div class="container">
        <h2 class="text-center mb-4">¬øNecesitas Nuestros Servicios?</h2>
        <p class="text-center mb-5">
          Cont√°ctanos para una cotizaci√≥n gratuita y personalizada
        </p>

        <div class="contacto-info">
          <div class="contacto-item">
            <h3><i class="fas fa-phone text-info me-2"></i>Tel√©fono</h3>
            <p>
              {{ configuracion.telefono or configuracion.empresa_telefono or
              '+57 315 748 4662' }}
            </p>
          </div>
          <div class="contacto-item">
            <h3><i class="fas fa-envelope text-info me-2"></i>Email</h3>
            <p>
              {{ configuracion.email or configuracion.empresa_email or
              'contacto@dh2o.com.co' }}
            </p>
          </div>
          <div class="contacto-item">
            <h3>
              <i class="fas fa-map-marker-alt text-info me-2"></i>Direcci√≥n
            </h3>
            <p>
              {{ configuracion.direccion or configuracion.empresa_direccion or
              'Valledupar, Colombia' }}
            </p>
          </div>
          <div class="contacto-item">
            <h3><i class="fas fa-clock text-info me-2"></i>Horarios</h3>
            <p>
              {{ configuracion.horarios or 'Lun - Vie: 8:00 AM - 6:00 PM - Sab:
              8:00 AM - 1:00 PM' }}
            </p>
          </div>
        </div>

        <div class="text-center mt-5">
          <button
            type="button"
            class="btn btn-primary btn-lg me-3"
            data-bs-toggle="modal"
            data-bs-target="#contactModal"
          >
            <i class="fas fa-envelope me-2"></i>Enviar Mensaje
          </button>
          <a
            href="tel:{{ configuracion.telefono or configuracion.empresa_telefono or '+573157484662' }}"
            class="btn btn-secondary btn-lg"
          >
            <i class="fas fa-phone me-2"></i>Llamar Ahora
          </a>
        </div>
      </div>
    </section>

    <!-- Modal de Contacto -->
    <div
      class="modal fade"
      id="contactModal"
      tabindex="-1"
      aria-labelledby="contactModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header bg-primary text-white">
            <h5 class="modal-title" id="contactModalLabel">
              <i class="fas fa-envelope me-2"></i>Env√≠anos tu Mensaje
            </h5>
            <button
              type="button"
              class="btn-close btn-close-white"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Mostrar mensajes flash si existen -->
            {% with messages = get_flashed_messages(with_categories=true) %} {%
            if messages %} {% for category, message in messages %}
            <div
              class="alert alert-{{ 'success' if category == 'success' else 'danger' }} alert-dismissible fade show"
              role="alert"
            >
              {{ message }}
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="alert"
              ></button>
            </div>
            {% endfor %} {% endif %} {% endwith %}

            <form
              action="{{ url_for('main.contacto') }}"
              method="POST"
              id="contactForm"
            >
              <!-- Honeypot anti-spam: campo invisible que los bots suelen llenar -->
              <input type="text" name="website" id="website" autocomplete="off" tabindex="-1" aria-hidden="true" style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;" />
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="nombre" class="form-label"
                    >Nombre Completo *</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="nombre"
                    name="nombre"
                    required
                  />
                </div>
                <div class="col-md-6 mb-3">
                  <label for="email" class="form-label"
                    >Correo Electr√≥nico *</label
                  >
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    name="email"
                    required
                  />
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="telefono" class="form-label">Tel√©fono</label>
                  <input
                    type="tel"
                    class="form-control"
                    id="telefono"
                    name="telefono"
                  />
                </div>
                <div class="col-md-6 mb-3">
                  <label for="empresa" class="form-label">Empresa</label>
                  <input
                    type="text"
                    class="form-control"
                    id="empresa"
                    name="empresa"
                  />
                </div>
              </div>
              <div class="mb-3">
                <label for="mensaje" class="form-label">Mensaje *</label>
                <textarea
                  class="form-control"
                  id="mensaje"
                  name="mensaje"
                  rows="4"
                  required
                  placeholder="Describe tu consulta o solicitud de servicio..."
                ></textarea>
              </div>
              <div class="mb-3">
                <small class="text-muted">
                  <i class="fas fa-info-circle me-1"></i>
                  Los campos marcados con (*) son obligatorios. Te contactaremos
                  en un plazo m√°ximo de 24 horas.
                </small>
              </div>
              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="checkbox"
                  id="acepta_politica"
                  name="acepta_politica"
                  required
                />
                <label class="form-check-label" for="acepta_politica">
                  Acepto la
                  <a
                    href="{{ url_for('main.politicas_privacidad') }}"
                    target="_blank"
                    class="text-info text-decoration-none"
                  >
                    Pol√≠tica de Privacidad y Tratamiento de Datos Personales </a
                  >.
                </label>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              <i class="fas fa-times me-1"></i>Cancelar
            </button>
            <button type="submit" form="contactForm" class="btn btn-primary">
              <i class="fas fa-paper-plane me-1"></i>Enviar Mensaje
            </button>
          </div>
        </div>
      </div>
    </div>

    </main>
    {% include 'sitio/partials/footer.html' %}

    <!-- Modal Flotante de Logros con Slider -->
    <div id="logrosModal" class="logros-modal">
      <div class="logros-modal-content">
        <button class="logros-close-btn" onclick="cerrarModal()" aria-label="Cerrar panel de logros">
          &times;
        </button>

        <div
          id="logrosCarousel"
          class="carousel slide"
          data-bs-ride="carousel"
          data-bs-interval="8000"
        >
          <div class="carousel-indicators">
            <button
              type="button"
              data-bs-target="#logrosCarousel"
              data-bs-slide-to="0"
              class="active"
              aria-current="true"
              aria-label="Sello de Paz"
            ></button>
            <button
              type="button"
              data-bs-target="#logrosCarousel"
              data-bs-slide-to="1"
              aria-label="Plazos Justos"
            ></button>
            <button
              type="button"
              data-bs-target="#logrosCarousel"
              data-bs-slide-to="2"
              aria-label="Aval Sanitario"
            ></button>
          </div>
          <div class="carousel-inner">
            <!-- Slide: Sello de Paz -->
            <div class="carousel-item active">
              <div class="logro-item">
                <div class="logro-icon">
                  <img
                    src="{{ url_for('static', filename='img/Sello_ColombiaDestinoDePaz.png') }}"
                    alt="Sello de Paz"
                    width="60"
                    height="60"
                  />
                </div>
                <div class="logro-content">
                  <h4>Sello de Paz</h4>
                  <p class="logro-subtitle">Certificaci√≥n Oficial</p>
                  <p>
                    DH2OCOL ha sido reconocida oficialmente con el Sello de Paz
                    por nuestro compromiso con la construcci√≥n de paz y
                    reconciliaci√≥n en Colombia.
                  </p>
                  <div class="logros-actions">
                    <button
                      class="btn-conocer-mas"
                      onclick="window.open('https://www.destinosdepaz.gov.co/', '_blank')"
                    >
                      Conocer M√°s
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Slide: Plazos Justos -->
            <div class="carousel-item">
              <div class="logro-item">
                <div class="logro-icon">
                  <img
                    src="{{ url_for('static', filename='img/plazos_justos.jpeg') }}"
                    alt="Plazos Justos"
                    width="60"
                    height="60"
                  />
                </div>
                <div class="logro-content">
                  <h4>Plazos Justos</h4>
                  <p class="logro-subtitle">
                    Empresa comprometida con el pago puntual a proveedores
                  </p>
                  <div class="logros-actions">
                    <button
                      class="btn-conocer-mas"
                      onclick="window.open('https://plazosjustos.gov.co/', '_blank')"
                    >
                      Conocer M√°s
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Slide: Aval Sanitario -->
            <div class="carousel-item">
              <div class="logro-item">
                <div class="logro-icon">
                  <img
                    src="{{ url_for('static', filename='img/secretaria_logo.png') }}"
                    alt="Secretar√≠a de Salud de Valledupar"
                    width="60"
                    height="60"
                  />
                </div>
                <div class="logro-content">
                  <h4>Aval Sanitario</h4>
                  <p class="logro-subtitle">
                    Secretar√≠a de Salud de Valledupar
                  </p>
                  <p>
                    Contamos con el aval sanitario de la Secretar√≠a de Salud de
                    Valledupar, que certifica el cumplimiento de est√°ndares de
                    higiene y calidad en nuestros servicios.
                  </p>
                  <div class="logros-actions">
                    <button
                      class="btn-conocer-mas"
                      onclick="window.open('https://valledupar-cesar.gov.co/', '_blank')"
                    >
                      Conocer M√°s
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#logrosCarousel"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Anterior</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#logrosCarousel"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Siguiente</span>
          </button>
        </div>

        <div class="logros-actions-global">
          <button class="btn-mas-tarde" onclick="cerrarModal()">
            M√°s Tarde
          </button>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Smooth scrolling para los enlaces de navegaci√≥n
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Animaciones de scroll reveal
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("revealed");
          }
        });
      }, observerOptions);

      document.querySelectorAll(".scroll-reveal").forEach((el) => {
        observer.observe(el);
      });

      // Navbar transparencia en scroll
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar");
        if (window.scrollY > 50) {
          navbar.style.background = "rgba(0, 128, 55, 0.95)";
        } else {
          navbar.style.background = "rgba(0, 128, 55, 0.95)";
        }
      });

      // Manejar modal de contacto
      document.addEventListener("DOMContentLoaded", function () {
        // Si hay mensajes flash, mostrar el modal autom√°ticamente
        const alerts = document.querySelectorAll("#contactModal .alert");
        if (alerts.length > 0) {
          const contactModal = new bootstrap.Modal(
            document.getElementById("contactModal")
          );
          contactModal.show();
        }

        // Validaci√≥n del formulario
        const contactForm = document.getElementById("contactForm");
        if (contactForm) {
          contactForm.addEventListener("submit", async function (e) {
            e.preventDefault(); // Prevenir env√≠o inmediato

            const nombre = document.getElementById("nombre").value.trim();
            const email = document.getElementById("email").value.trim();
            const mensaje = document.getElementById("mensaje").value.trim();

            if (!nombre || !email || !mensaje) {
              alert("Por favor, completa todos los campos obligatorios.");
              return false;
            }

            // Validar formato de email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
              alert("Por favor, ingresa un correo electr√≥nico v√°lido.");
              return false;
            }

            // Validar aceptaci√≥n de Pol√≠tica de Privacidad
            const aceptaPoliticaEl = document.getElementById("acepta_politica");
            if (!aceptaPoliticaEl || !aceptaPoliticaEl.checked) {
              alert(
                "Debes aceptar la Pol√≠tica de Privacidad y Tratamiento de Datos Personales."
              );
              return false;
            }

            // Mostrar indicador de carga
            const submitBtn = document.querySelector(
              '#contactModal button[type="submit"]'
            );
            const originalText = submitBtn.innerHTML;
            submitBtn.innerHTML =
              '<i class="fas fa-spinner fa-spin me-1"></i>Enviando...';
            submitBtn.disabled = true;

            try {
              // Verificar reCAPTCHA si est√° configurado
              if (
                typeof grecaptcha !== "undefined" &&
                window.recaptchaSiteKey
              ) {
                const recaptchaToken = await grecaptcha.execute(
                  window.recaptchaSiteKey,
                  { action: "contact_form" }
                );

                // Agregar token al formulario
                let tokenInput = document.getElementById("recaptcha_token");
                if (!tokenInput) {
                  tokenInput = document.createElement("input");
                  tokenInput.type = "hidden";
                  tokenInput.name = "recaptcha_token";
                  tokenInput.id = "recaptcha_token";
                  contactForm.appendChild(tokenInput);
                }
                tokenInput.value = recaptchaToken;
              }

              // Enviar formulario
              contactForm.submit();
            } catch (error) {
              console.error("Error con reCAPTCHA:", error);
              // Enviar formulario sin reCAPTCHA en caso de error
              contactForm.submit();
            }
          });
        }

        // Limpiar formulario cuando se cierre el modal
        const contactModal = document.getElementById("contactModal");
        if (contactModal) {
          contactModal.addEventListener("hidden.bs.modal", function () {
            const form = document.getElementById("contactForm");
            if (form) {
              form.reset();
            }
          });
        }
      });
    </script>

    <!-- JavaScript del Modal de Logros -->
    <script>
      let modalTimer;

      // Funci√≥n para mostrar el modal
      function mostrarModal() {
        const modal = document.getElementById("logrosModal");
        modal.classList.add("show");

        // Auto-cerrar despu√©s de 26 segundos (para ver todas las diapositivas)
        modalTimer = setTimeout(() => {
          cerrarModal();
        }, 26000);
      }

      // Funci√≥n para cerrar el modal
      function cerrarModal() {
        const modal = document.getElementById("logrosModal");
        modal.classList.add("hide");

        // Limpiar el temporizador
        if (modalTimer) {
          clearTimeout(modalTimer);
        }

        // Ocultar completamente despu√©s de la animaci√≥n
        setTimeout(() => {
          modal.classList.remove("show", "hide");
        }, 500);

        // (Opcional) Guardar en sessionStorage si se desea evitar reaparici√≥n en esta sesi√≥n
        // sessionStorage.setItem('logrosModalVisto', 'true');
      }

      // Mostrar el modal siempre a los 3 segundos
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
          mostrarModal();
        }, 3000);
      });

      // Cerrar modal al hacer clic fuera de √©l
      document.addEventListener("click", function (event) {
        const modal = document.getElementById("logrosModal");
        const modalContent = modal.querySelector(".logros-modal-content");

        if (
          modal.classList.contains("show") &&
          !modalContent.contains(event.target)
        ) {
          cerrarModal();
        }
      });

      // Cerrar modal con tecla Escape
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape") {
          const modal = document.getElementById("logrosModal");
          if (modal.classList.contains("show")) {
            cerrarModal();
          }
        }
      });
    </script>

    <!-- TanquiBot Chatbot -->
    <script>
      // Configuraci√≥n de reCAPTCHA
      {% if recaptcha_site_key %}
      window.recaptchaSiteKey = '{{ recaptcha_site_key }}';
      {% endif %}
    </script>
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>

    <!-- Contador de Visitantes -->
    <script src="{{ url_for('static', filename='js/visitor_counter.js') }}"></script>
    <script>
      // Inicializar contador de visitantes cuando la p√°gina cargue
      document.addEventListener("DOMContentLoaded", function () {
        // Crear instancia del contador con configuraci√≥n backend
        const counter = new VisitorCounter({
          useBackend: true,
          apiEndpoint: "/api/visitor-count",
          statsEndpoint: "/api/visitor-stats",
          analyticsEndpoint: "/api/analytics",
          updateInterval: 30000, // Actualizar cada 30 segundos
          enableGeolocation: true,
          enableAnalytics: true,
        });

        // Registrar visita con datos adicionales
        counter.registerVisit({
          page: window.location.pathname,
          referrer: document.referrer,
          userAgent: navigator.userAgent,
          screenResolution: `${screen.width}x${screen.height}`,
          language: navigator.language,
          timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
        });

        // Actualizar estad√≠sticas peri√≥dicamente
        setInterval(() => {
          counter.updateStats();
        }, 30000);

        // Actualizar estad√≠sticas iniciales
        setTimeout(() => {
          counter.updateStats();
        }, 1000);
      });
    </script>
    <!-- Bot√≥n flotante WhatsApp -->
    <script src="{{ url_for('static', filename='js/whatsapp_float.js') }}"></script>
  </body>
</html>
